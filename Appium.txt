
var wd = require("wd");
var chai = require("chai");
var chaiAsPromised = require("chai-as-promised");

chai.use(chaiAsPromised);
chai.should();
chaiAsPromised.transferPromiseness = wd.transferPromiseness;

var desired = {
	appium-version: "1.0",
	platformName: "iOS",
	platformVersion: "8.3",
	deviceName: "iPhone 4s",
	app: "/Users/denis/Library/Developer/Xcode/DerivedData/FCNext-aqzfdlxybxhyyuckvqapaklfzmkq/Build/Products/Debug-iphonesimulator/FCNext Plus.app",
};

var browser = wd.promiseChainRemote("192.168.0.1", 4723);

browser.init(desired).then(function() {
	return browser
	    .elementByXPath("//UIAApplication[1]/UIAWindow[1]/UIAScrollView[1]/UIACollectionView[1]/UIACollectionCell[1]").click()
	    .elementByName("icon back").click()
		.fin(function() {
			return browser.quit();
		});
}).done();